<!--8-4-->
<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
        <title>乙班06王瑋祥8-4</title>
        <script>
            function check(){

                //建立物件
                var userid = document.getElementById("userid");
                var userpw = document.getElementById("userpw");
                var email = document.getElementById("email");
                var useric = document.getElementById("useric");
                var usergender = document.getElementById("usergender");
                var date1 = document.getElementById("date1");
                var check_chinese = document.getElementById("chinese");
                var check_english = document.getElementById("english");
                var check_math = document.getElementById("math");
                var check_electronics = document.getElementById("electronics");
                var check_programming = document.getElementById("programming");
                var dislike = document.getElementById("dislike");

                //帳號
                if(userid.value === "") {
                    alert("請輸入帳號");
                    userid.focus();
                    return false;
                }

                //密碼
                if(userpw.value === "") {
                    alert("請輸入密碼");
                    userpw.focus();
                    return false;
                }

                //email
                var prefix = email.value.indexOf("@");
                if(email.value === "") {
                    alert("請輸入 email");
                    email.focus();
                    return false;
                }
                if(!(prefix > 0 && email.value.length - prefix > 0 && prefix != email.value.length - 5 && email.value.substring(email.value.length - 4) === ".com")) {
                    alert("email 的格式是：「 用戶名 + @ + xxx.com 」唷");
                    email.focus();
                    return false;
                }

                //身分證
                tab = "ABCDEFGHJKLMNPQRSTUVXYWZIO"
                if(useric.value === "") {
                    alert("請輸入身分證字號");
                    useric.focus();
                    return false;
                }
                if(useric.value.search(/^[A-Z](1|2)\d{8}$/i) == -1) {
                    alert("身分證字號格式錯誤");
                    useric.focus();
                    return false;
                }
                a1 = new Array (1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3);
                a2 = new Array (0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5);
                Mx = new Array (9,8,7,6,5,4,3,2,1,1);
                i = tab.indexOf(useric.value.charAt(0));
                sum = a1[i] + a2[i];
                for(i=1; i<10; i++) {
                    v = parseInt(useric.value.charAt(i));
                    sum = sum + v * Mx[i];
                }
                if (sum % 10 != 0) {
                    alert("身分證字號格式錯誤");
                    useric.focus();
                    return false;
                }

                //生日
                if(date1.value === "") {
                    alert("請輸入生日");
                    return false;
                }

                //性別
                if(document.querySelector('input[name="usergender"]:checked') === null) {
                    alert("請輸入性別");
                    return false;
                }

                //喜歡的科目
                if(document.querySelector('input[name="favorite[]"]:checked') === un) {
                    alert("請輸入喜歡的科目");
                    return false;
                }

                //最不喜歡的科目
                if(dislike.value === "") {
                    alert("請輸入最不喜歡的科目");
                    return false;
                }

                //矛盾判斷
                if((dislike.value === "chinese" && check_chinese.checked) || (dislike.value === "english" && check_english.checked) || (dislike.value ==="math" && check_math.checked) || (dislike.value === "electronics" && check_electronics.checked) || (dislike.value === "programming" && check_programming.checked)) {
                    alert("不能同時喜歡又討厭他喔");
                    return false;
                }
            }
        </script>
	</head>

	<body>
        <div class="container-fluid">
			<div class="row mt-2">
				<div class="col-md-8 offset-md-2 col-xl-6 offset-xl-3">
					<div class="card">
						<div class="card-header bg-info text-white text-center">
							<h4>基本資料</h4>
						</div>
						<div class="card-body">
							<form action="hw04.php" method="post" onsubmit="return check()">
								<div class="form-group">
									<label for="userid">帳號：</label>
									<input type="text" class="form-control" id="userid" name="userid" placeholder="您的帳號">
								</div>
								<div class="form-group">
									<label for="userpw">密碼：</label>
									<input type="password" class="form-control" id="userpw" name="userpw" placeholder="您的密碼">
								</div>
                                <div class="form-group">
									<label for="email">email：</label>
									<input type="text" class="form-control" id="email" name="email" placeholder="您的 email">
								</div>
                                <div class="form-group">
                                    <label for="useric">身分證字號</label>
									<input type="text" class="form-control" id="useric" name="useric" placeholder="您的身分證字號">
								</div>
                                <div class="form-group">
                                    <label for="date1">生日：</label>
                                    <input type="date" class="form-control" id="date1" name="date1">
                                </div>
                                <div class="form-group">
                                    性別：
                                    <div class="form-check-inline">
                                        <label class="form-check-label">
                                            <input type="radio" class="form-check-input" name="usergender" value="male">男&nbsp;&nbsp;&nbsp;
                                        </label>
                                        <label class="form-check-label">
                                            <input type="radio" class="form-check-input" name="usergender" value="female">女&nbsp;&nbsp;&nbsp;
                                        </label>
                                        <label class="form-check-label">
                                            <input type="radio" class="form-check-input" name="usergender" value="private">不公開
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    喜歡的科目：
                                    <div class="form-check">
                                        <input type="checkbox" name="favorite[]" value="chinese" id="chinese">國文<br>
                                        <input type="checkbox" name="favorite[]" value="english" id="english">英文<br>
                                        <input type="checkbox" name="favorite[]" value="math" id="math">數學<br>
                                        <input type="checkbox" name="favorite[]" value="electronics" id="electronics">電子學<br>
                                        <input type="checkbox" name="favorite[]" value="programming" id="programming">程式設計<br>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="dislike">最不喜歡的科目：</label>
                                    <select class="form-control" id="dislike" name="dislike">
                                        <option value="" selected disabled hidden>請選擇科目</option>
                                        <option value="chinese">國文</option>
                                        <option value="english">英文</option>
                                        <option value="math">數學</option>
                                        <option value="electronics">電子學</option>
                                        <option value="programming">程式設計</option>
                                    </select>
                                </div>
								<button class="btn btn-secondary" type="submit">提交</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>